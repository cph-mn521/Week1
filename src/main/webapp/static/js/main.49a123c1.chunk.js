(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){e.exports=n(34)},28:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),l=n.n(c),o=(n(28),n(20)),u=n(5),i=n(6),s=n(9),m=n(8),h=n(10),f="http://localhost:8080/ca3";function d(e){return e.ok?e.json():Promise.reject({status:e.status,fullError:e.json()})}var E=new(function(){function e(){var t=this;Object(u.a)(this,e),this.login=function(e,n){var a=t.makeOptions("POST",!0,{username:e,password:n});return fetch(f+"/api/login",a).then(d).then(function(e){t.setToken(e.token)})},this.setToken=function(e){localStorage.setItem("jwtToken",e)},this.getToken=function(){return localStorage.getItem("jwtToken")},this.loggedIn=function(){return null!=t.getToken()},this.logout=function(){localStorage.removeItem("jwtToken")}}return Object(i.a)(e,[{key:"makeOptions",value:function(e,t,n){var a={method:e,headers:{"Content-type":"application/json",Accept:"application/json"}};return t&&this.loggedIn()&&(a.headers["x-access-token"]=this.getToken()),n&&(a.body=JSON.stringify(n)),a}},{key:"CheckIfUser",value:function(e){return fetch(f+"/api/Example/user").then(function(e){return e.json()}).then(function(t){e.unshift(t)})}},{key:"CheckIfAdmin",value:function(e){return fetch(f+"/api/Example/admin").then(function(e){return e.json()}).then(function(t){e.unshift(t)})}},{key:"TryGet",value:function(e,t){return fetch(f+"/api/Example/"+e).then(function(e){return e.json()}).then(function(e){t.unshift({key:t.length+1,code:200,message:e.msg})})}}]),e}()),p=n(3),b=n(11),g=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Home"))},v=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={msgs:[{key:1,code:200,message:"Succesfuld connect"}]},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"somefunction",value:function(e){var t=this;e.preventDefault();this.state.msgs;var n=this.state.msgs,a=this.newItem.value;E.TryGet(a,n).then(function(e){return t.setState({msgs:n})})}},{key:"CheckIfUser",value:function(e){var t=this;e.preventDefault();this.state.msgs;var n=this.state.msgs;E.CheckIfUser(n).then(function(e){return t.setState({msgs:n})})}},{key:"CheckIfAdmin",value:function(e){var t=this;e.preventDefault();this.state.msgs;var n=this.state.msgs;E.CheckIfAdmin(n).then(function(e){return t.setState({msgs:n})})}},{key:"render",value:function(){var e=this,t=this.state.msgs;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){e.somefunction(t)}},r.a.createElement("label",null," Test en Get metode"),r.a.createElement("input",{ref:function(t){return e.newItem=t},placeholder:"5",id:"msg"}),r.a.createElement("button",{type:"submit"}," add ")),r.a.createElement("button",{onClick:function(t){e.CheckIfAdmin(t)}}," er du admin? ")," ",r.a.createElement("button",{onClick:function(t){e.CheckIfUser(t)}}," er du User? "),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Item"),r.a.createElement("th",null,"time"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e.key},r.a.createElement("td",null,e.code),r.a.createElement("td",null,e.message))}))))}}]),t}(r.a.Component),k=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"aboot"))},j=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Contact"))},O=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"page does not exist"))},y=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={redirect:!0},n.renderRedirect=function(){if(n.state.redirect)return r.a.createElement(b.a,{to:"CA3/documentation/index.html"})},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.renderRedirect())}}]),t}(r.a.Component),I=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).login=function(e){e.preventDefault(),n.props.login(n.state.username,n.state.password)},n.onChange=function(e){n.setState(Object(o.a)({},e.target.id,e.target.value))},n.state={username:"",password:""},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,{basename:"/ca3"},r.a.createElement("ul",{class:"header"},r.a.createElement("li",null,r.a.createElement(p.b,{to:"/",exact:!0},"Home")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/about"},"About")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/contact"},"Contact")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/ListItem"},"API test")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/redirect"},"API documentation")),r.a.createElement("li",null,r.a.createElement("form",{onSubmit:this.login,onChange:this.onChange},r.a.createElement("input",{placeholder:"User Name",id:"username"}),r.a.createElement("input",{placeholder:"Password",id:"password"}),r.a.createElement("button",null,"Login")))),r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/",exact:!0,component:g}),r.a.createElement(b.b,{path:"/about",component:k}),r.a.createElement(b.b,{path:"/contact",component:j}),r.a.createElement(b.b,{path:"/ListItem",component:v}),r.a.createElement(b.b,{path:"/redirect",component:y}),r.a.createElement(b.b,{component:O}))))}}]),t}(a.Component),w=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={username:""},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,{basename:"/ca3"},r.a.createElement("ul",{class:"header"},r.a.createElement("li",null,r.a.createElement(p.b,{to:"/",exact:!0},"Home")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/about"},"About")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/contact"},"Contact")),r.a.createElement("li",null,r.a.createElement("p",{class:"header"},"logged in as: ",this.props.username))),r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/",exact:!0,component:g}),r.a.createElement(b.b,{path:"/about",component:k}),r.a.createElement(b.b,{path:"/contact",component:j}),r.a.createElement(b.b,{component:O}))))}}]),t}(a.Component),C=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).logout=function(){E.logout(),n.setState({loggedIn:!1})},n.login=function(e,t){E.login(e,t).then(function(t){return n.setState({loggedIn:!0,username:e})})},n.state={loggedIn:!1},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.loggedIn?r.a.createElement("div",null,r.a.createElement(w,{username:this.state.username}),r.a.createElement("button",{onClick:this.logout},"Logout")):r.a.createElement(I,{login:this.login}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.49a123c1.chunk.js.map