(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){e.exports=n(34)},28:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(19),r=n.n(o),c=(n(28),n(20)),u=n(5),i=n(6),s=n(9),m=n(8),h=n(10),f="http://localhost:8080/ca3";function E(e){return e.ok?e.json():Promise.reject({status:e.status,fullError:e.json()})}var d=new(function(){function e(){var t=this;Object(u.a)(this,e),this.login=function(e,n){var a=t.makeOptions("POST",!0,{username:e,password:n});return fetch(f+"/api/login",a).then(E).then(function(e){t.setToken(e.token)})},this.setToken=function(e){localStorage.setItem("jwtToken",e)},this.getToken=function(){return localStorage.getItem("jwtToken")},this.loggedIn=function(){return null!=t.getToken()},this.logout=function(){localStorage.removeItem("jwtToken")}}return Object(i.a)(e,[{key:"makeOptions",value:function(e,t,n){var a={method:e,headers:{"Content-type":"application/json",Accept:"application/json"}};return t&&this.loggedIn()&&(a.headers["x-access-token"]=this.getToken()),n&&(a.body=JSON.stringify(n)),a}},{key:"CheckIfUser",value:function(e){return fetch(f+"/api/Example/user").then(function(e){return e.json()}).then(function(t){e.unshift(t)})}},{key:"CheckIfAdmin",value:function(e){return fetch(f+"/api/Example/admin").then(function(e){return e.json()}).then(function(t){e.unshift(t)})}},{key:"TryGet",value:function(e,t){return fetch(f+"/api/Example/"+e).then(function(e){return e.json()}).then(function(e){t.unshift({key:t.length+1,code:200,message:e.msg})})}}]),e}()),p=n(4),g=n(11),b=function(){return l.a.createElement("div",null,l.a.createElement("p",null,"Home"))},v=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={msgs:[{key:1,code:200,message:"Succesfuld connect"}]},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"somefunction",value:function(e){var t=this;e.preventDefault();this.state.msgs;var n=this.state.msgs,a=this.newItem.value;d.TryGet(a,n).then(function(e){return t.setState({msgs:n})})}},{key:"CheckIfUser",value:function(e){var t=this;e.preventDefault();this.state.msgs;var n=this.state.msgs;d.CheckIfUser(n).then(function(e){return t.setState({msgs:n})})}},{key:"CheckIfAdmin",value:function(e){var t=this;e.preventDefault();this.state.msgs;var n=this.state.msgs;d.CheckIfAdmin(n).then(function(e){return t.setState({msgs:n})})}},{key:"render",value:function(){var e=this,t=this.state.msgs;return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(t){e.somefunction(t)}},l.a.createElement("label",null," Test en Get metode"),l.a.createElement("input",{ref:function(t){return e.newItem=t},placeholder:"5",id:"msg"}),l.a.createElement("button",{type:"submit"}," add ")),l.a.createElement("button",{onClick:function(t){e.CheckIfAdmin(t)}}," er du admin? ")," ",l.a.createElement("button",{onClick:function(t){e.CheckIfUser(t)}}," er du User? "),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Item"),l.a.createElement("th",null,"time"))),l.a.createElement("tbody",null,t.map(function(e){return l.a.createElement("tr",{key:e.key},l.a.createElement("td",null,e.code),l.a.createElement("td",null,e.message))}))))}}]),t}(l.a.Component),k=function(){return l.a.createElement("div",null,l.a.createElement("p",null,"aboot"))},j=function(){return l.a.createElement("div",null,l.a.createElement("p",null,"Contact"))},O=function(){return l.a.createElement("div",null,l.a.createElement("p",null,"page does not exist"))},y=(l.a.Component,function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).login=function(e){e.preventDefault(),n.props.login(n.state.username,n.state.password)},n.onChange=function(e){n.setState(Object(c.a)({},e.target.id,e.target.value))},n.state={username:"",password:""},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(p.a,null,l.a.createElement("ul",{class:"header"},l.a.createElement("li",null,l.a.createElement(p.b,{to:"/",exact:!0},"Home")),l.a.createElement("li",null,l.a.createElement(p.b,{to:"/about"},"About")),l.a.createElement("li",null,l.a.createElement(p.b,{to:"/contact"},"Contact")),l.a.createElement("li",null,l.a.createElement(p.b,{to:"/ListItem"},"API test")),l.a.createElement("li",null,l.a.createElement("a",{href:"ca3/documentation/"}," Documentation ")),l.a.createElement("li",null,l.a.createElement("form",{onSubmit:this.login,onChange:this.onChange},l.a.createElement("input",{placeholder:"User Name",id:"username"}),l.a.createElement("input",{placeholder:"Password",id:"password"}),l.a.createElement("button",null,"Login")))),l.a.createElement(g.d,null,l.a.createElement(g.b,{path:"/",exact:!0,component:b}),l.a.createElement(g.b,{path:"/about",component:k}),l.a.createElement(g.b,{path:"/contact",component:j}),l.a.createElement(g.b,{path:"/ListItem",component:v}),l.a.createElement(g.b,{component:O}))))}}]),t}(a.Component)),I=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={username:""},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(p.a,null,l.a.createElement("ul",{class:"header"},l.a.createElement("li",null,l.a.createElement(p.b,{to:"/",exact:!0},"Home")),l.a.createElement("li",null,l.a.createElement(p.b,{to:"/about"},"About")),l.a.createElement("li",null,l.a.createElement(p.b,{to:"/contact"},"Contact")),l.a.createElement("li",null,l.a.createElement("p",{class:"header"},"logged in as: ",this.props.username))),l.a.createElement(g.d,null,l.a.createElement(g.b,{path:"/",exact:!0,component:b}),l.a.createElement(g.b,{path:"/about",component:k}),l.a.createElement(g.b,{path:"/contact",component:j}),l.a.createElement(g.b,{component:O}))))}}]),t}(a.Component),w=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).logout=function(){d.logout(),n.setState({loggedIn:!1})},n.login=function(e,t){d.login(e,t).then(function(t){return n.setState({loggedIn:!0,username:e})})},n.state={loggedIn:!1},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,this.state.loggedIn?l.a.createElement("div",null,l.a.createElement(I,{username:this.state.username}),l.a.createElement("button",{onClick:this.logout},"Logout")):l.a.createElement(y,{login:this.login}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.ea80ae17.chunk.js.map